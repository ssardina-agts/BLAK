%!TEX root = ../dsingh-aamas10-poster.tex
\begin{tikzpicture}[level distance=3.5em]
\definecolor{green3}{rgb}{0.86,0.86,0.34}
\definecolor{red3}{rgb}{0.86,0.34,0.86}
\definecolor{brown3}{rgb}{0.86,0.6,0.34}

\tikzstyle{txt}=[scale=.9]
\tikzstyle{succ}=[label=below:$\surd$]
\tikzstyle{fail}=[label=below:$\times$]
\tikzstyle{trace}=
[solid,style=circle,fill=green3,above left=0.5em,scale=.7]
\tikzstyle{planbox}=
[draw,minimum height=2.0em,minimum width=2.5em]
\tikzstyle{planbox2}=
[draw=brown3,planbox,top color=brown3!70, bottom color=brown3]
\tikzstyle{planbox3}=
[draw=red3,planbox,top color=red3!70,bottom color=red3]
\tikzstyle{goalbox}=
[draw,rounded corners,minimum height=2.0em,minimum width=2.5em]
\tikzstyle{goalbox2}=
[draw=brown3,goalbox,top color=brown3!70, bottom color= brown3]
\tikzstyle{goalbox3}=
[draw=red3,goalbox,top color=red3!70,bottom color=red3]

	
\tikzstyle{level 1}=[sibling distance=6.0em] 
\tikzstyle{level 2}=[sibling distance=8.0em] 
\tikzstyle{level 3}=[sibling distance=5.0em]
\tikzstyle{level 4}=[sibling distance=6.0em]
\tikzstyle{level 5}=[sibling distance=3.0em]

\node[goalbox,yshift=1cm,solid] (T) {$G$}
	child[dashed] {node[planbox] (P1) {$P_1$}}
	child[solid] {node[planbox3] (Pi) {$P_i$}
		child {node[goalbox2] {$G_A$}
			child {node[planbox2] {$P_{A}$}
				child {node[goalbox2] {$G_{A1}$}
					child {node[planbox2,succ] {$\phantom{P}$}
						node[trace]{$3$}
					}
					child {node[planbox,fail] {$\phantom{P}$} 
					edge from parent node[txt,right,near start] {}
					}
				}
				child {node[goalbox2] {$G_{A2}$}
					child {node[planbox2,succ] {$\phantom{P}$}
						node[trace]{$4$}
					}
					child {node[planbox,fail] {$\phantom{P}$} 
						edge from parent node[txt,right,near start] {}
					}
				}
				node[trace]{$2$}
			}
			child {node[planbox,fail] {$\phantom{P}$} 
				edge from parent node[txt,right,near start] {}
			}
		}
		child {node[goalbox3] {$G_{B}$}
			child {node[planbox,fail] {$\phantom{P}$}
				edge from parent node[txt,left,near start] {}
			}
			child {node[planbox3] (PB) {$P_B$}
				child {node[goalbox2] {$G_{B1}$}
					child {node[planbox2,succ] {$\phantom{P}$}
						node[trace]{$6$}
					}
					child {node[planbox,fail] {$\phantom{P}$}
						edge from parent node[txt,right,near start] {}
					}
				}
				child {node[goalbox3] {$G_{B2}$}
					child {node[planbox,succ] {$P_{B2}$}}
					child {node[planbox3,fail] {$P_{B2}'$}
						node[trace]{$7$}
						edge from parent node[txt,right,near start] {}
					}
				}
				node[trace]{$5$}
				node[red,right=1.2em]{?}
			}
		}
		node[trace]{$1$}
		node[red,right=1.2em]{?}
	}
	child[dashed] {node[planbox] (Pn) {$P_n$}}
;
\node[txt] at ($ (P1)!.5!(Pi) $) {$\ldots$};
\node[txt] at ($ (Pi)!.5!(Pn) $) {$\ldots$};

\end{tikzpicture}
